{"version":3,"sources":["RenderBody.js","Todo.js","RenderTodos.js","helpers.js","index.js"],"names":["RenderBody","document","getElementById","innerHTML","Todo","id","title","description","priority","completed","markCompleted","RenderTodos","store","view","todos","map","todo","join","initStore","window","localStorage","getItem","emptyStore","update","activeId","JSON","parse","setItem","stringify","setLocalStorage","getIndexOfTodo","index","forEach","ind","formWrapper","createTodo","createButton","searchByTitle","filterByStatus","filterByPriority","cancelButton","toggleForm","classList","toggle","cleanForm","value","updateTodoList","addHandlers","querySelectorAll","button","onclick","deleteTodo","parseInt","completeTodo","showFormWithTodo","renderTodoList","addTodo","unshift","updateTodo","indeOfTodo","splice","indexOfTodo","showTodosByStatus","status","filterValue","tempStore","filter","showTodosByPriority","showTodosByTitle","titleLow","toLowerCase","includes","onkeyup","onchange","onsubmit","e","preventDefault"],"mappings":"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","file":"src.4aaa9c0a.js","sourceRoot":"../src","sourcesContent":["export const RenderBody = () => {\n    document.getElementById(\"app\").innerHTML = `\n    <header>\n    <h1>TODOList</h1>\n    <nav>\n      <input type=\"text\" id=\"search-by-title\" placeholder=\"search by title\" />\n  \n      <form action=\"\">\n        <label for=\"priority\">Priority: </label>\n        <select name=\"\" id=\"priority\">\n          <option selected value=\"all\">all</option>\n          <option value=\"high\">high</option>\n          <option value=\"normal\">normal</option>\n          <option value=\"low\">low</option>\n        </select>\n      </form>\n  \n      <form action=\"\">\n        <label for=\"filter\">Status: </label>\n        <select id=\"status\">\n          <option selected value=\"all\">all</option>\n          <option value=\"open\">open</option>\n          <option value=\"done\">done</option></select\n        >\n      </form>\n  \n      <button id=\"create\">create</button>\n    </nav>\n  </header>\n  \n  <div class=\"todo-form\" id=\"formTodo\"></div>\n  \n  <form class=\"add-todo hidden\" id=\"create-todo\" action=\"\">\n    <label for=\"title\">Title: </label>\n    <input id=\"title\" type=\"textarea\" placeholder=\"title\" required />\n    <label for=\"description\">Description:</label>\n    <textarea id=\"description\" placeholder=\"description\" required></textarea>\n    <label for=\"todo-priority\">Priority</label>\n    <select name=\"priority\" id=\"todo-priority\">\n      <option value=\"high\">high</option>\n      <option value=\"medium\">medium</option>\n      <option value=\"low\">low</option>\n    </select>\n    <div class=\"form-controls\">\n      <input type=\"reset\" id=\"cancel\" value=\"cancel\" />\n      <input type=\"submit\" id=\"add-todo\" value=\"save\" />\n    </div>\n  </form>\n  \n  <div id=\"todo-list\"></div>\n  \n  <footer>\n    <h3>Stanislav Sukhanov</h3>\n  </footer>\n    `;\n  };\n  ","export const Todo = ({ id, title, description, priority, completed }) => {\n    let markCompleted = completed ? \"completed\" : \"\";\n    return `\n    <li class=\"todo ${markCompleted}\">\n        <h2>${title}</h2>\n        <p>${description}</p>\n        <div class='todo-footer'>\n        <em>${priority}</em>\n        <div class=\"controls\">\n        <button class='control-btn'>...</button>\n        <div class=\"controls-content\">\n        <span class=\"control-item done\" id=${id}>done</span>\n        <span class=\"control-item update\" id=${id}>update</span>\n        <span class=\"control-item delete\" id=${id}\">delete</span>\n        </div>\n      </div>\n      </div>\n      </li>\n    `;\n  };\n  ","import { Todo } from \"./Todo\";\n\nexport const RenderTodos = store => {\n  let view = store.view ? \"view\" : \"todos\";\n  let todos = store[view].map(todo => Todo(todo)).join(\"\");\n\n  return `<ul class=\"todo-list\">${todos}</ul>`;\n};\n","export const initStore = () => {\n  let store = window.localStorage.getItem(\"store\");\n  let emptyStore = {\n    id: 0,\n    update: false,\n    activeId: null,\n    todos: [],\n    view: false\n  };\n  if (!store) {\n    window.localStorage.setItem(\"store\", JSON.stringify(emptyStore));\n    return emptyStore;\n  } else {\n    return JSON.parse(store);\n  }\n};\n\nexport const setLocalStorage = store => {\n  window.localStorage.setItem(\"store\", JSON.stringify(store));\n};\n\nexport const getIndexOfTodo = (id, todos) => {\n  let index = -1;\n  todos.forEach((todo, ind) => {\n    if (todo.id === id) index = ind;\n  });\n  return index;\n};\n","import { RenderBody } from \"./RenderBody\";\nimport { RenderTodos } from \"./RenderTodos\";\nimport { initStore, getIndexOfTodo, setLocalStorage } from \"./helpers\";\nimport \"./styles.scss\";\n\nRenderBody();\n\n// V A R I A B L E S;\nconst store = initStore();\nlet formWrapper = document.getElementById(\"formTodo\");\nlet createTodo = document.getElementById(\"create-todo\");\nlet createButton = document.getElementById(\"create\");\nlet searchByTitle = document.getElementById(\"search-by-title\");\nlet filterByStatus = document.getElementById(\"status\");\nlet filterByPriority = document.getElementById(\"priority\");\nlet cancelButton = document.getElementById(\"cancel\");\n\n// L O G I C\nconst toggleForm = () => {\n  formWrapper.classList.toggle(\"show\");\n  createTodo.classList.toggle(\"hidden\");\n};\n\nconst cleanForm = () => {\n  document.getElementById(\"title\").value = null;\n  document.getElementById(\"description\").value = null;\n};\n\nconst updateTodoList = () => {\n  document.getElementById(\"todo-list\").innerHTML = \"\";\n  document.getElementById(\"todo-list\").innerHTML = RenderTodos(store);\n};\n\nconst addHandlers = () => {\n  let delBtns = document.querySelectorAll(\".delete\");\n  delBtns.forEach(button => {\n    button.onclick = () => deleteTodo(parseInt(button.id, 10));\n  });\n  let completeBtns = document.querySelectorAll(\".done\");\n  completeBtns.forEach(button => {\n    button.onclick = () => completeTodo(parseInt(button.id, 10));\n  });\n  let updateBtns = document.querySelectorAll(\".update\");\n  updateBtns.forEach(button => {\n    button.onclick = () => {\n      toggleForm();\n      showFormWithTodo(parseInt(button.id, 10));\n    };\n  });\n};\n\nconst renderTodoList = () => {\n  updateTodoList();\n  addHandlers();\n};\n\nexport const addTodo = todo => {\n  let { id, title, description, priority } = todo;\n  store.todos.unshift({\n    id: id,\n    title: title,\n    description: description,\n    priority: priority,\n    completed: false\n  });\n  store.id++;\n  renderTodoList();\n};\n\nexport const updateTodo = todo => {\n  let { id } = todo;\n  let index = getIndexOfTodo(id, store.todos);\n  store.todos[index] = todo;\n  renderTodoList();\n  store.update = false;\n  store.activeId = null;\n};\n\nconst deleteTodo = id => {\n  if (store.view) {\n    let indeOfTodo = getIndexOfTodo(id, store.view);\n    store.view.splice(indeOfTodo, 1);\n  }\n  let indexOfTodo = getIndexOfTodo(id, store.todos);\n  store.todos.splice(indexOfTodo, 1);\n  renderTodoList();\n  setLocalStorage(store);\n};\n\nexport const completeTodo = id => {\n  if (store.view) {\n    let indeOfTodo = getIndexOfTodo(id, store.view);\n    store.view.splice(indeOfTodo, 1);\n  }\n  let indexOfTodo = getIndexOfTodo(id, store.todos);\n  store.todos[indexOfTodo].completed = !store.todos[indexOfTodo].completed;\n  renderTodoList();\n  setLocalStorage(store);\n};\n\nconst showFormWithTodo = id => {\n  store.activeId = id;\n  store.update = true;\n  let indexOfTodo = getIndexOfTodo(id, store.todos);\n  let todo = store.todos[indexOfTodo];\n  document.getElementById(\"todo-priority\").value = todo.priority;\n  document.getElementById(\"title\").value = todo.title;\n  document.getElementById(\"description\").value = todo.description;\n};\n\nconst showTodosByStatus = status => {\n  if (status !== \"all\") {\n    let filterValue = status === \"open\" ? false : true;\n    let tempStore = store.todos.filter(todo => todo.completed === filterValue);\n    store.view = tempStore;\n    renderTodoList();\n  } else {\n    store.view = false;\n    renderTodoList();\n  }\n};\n\nconst showTodosByPriority = priority => {\n  switch (priority) {\n    case \"high\":\n      let view = store.todos.filter(todo => todo.priority === \"high\");\n      store.view = view;\n      break;\n    case \"normal\":\n      store.view = store.todos.filter(todo => todo.priority === \"medium\");\n      break;\n    case \"low\":\n      store.view = store.todos.filter(todo => todo.priority === \"low\");\n      break;\n    default:\n      store.view = null;\n  }\n  renderTodoList();\n};\n\nexport const showTodosByTitle = title => {\n  let titleLow = title.toLowerCase();\n  let tempStore = store.todos.filter(todo =>\n    todo.title.toLowerCase().includes(titleLow)\n  );\n  store.view = tempStore;\n  renderTodoList();\n};\n\nrenderTodoList();\n\n// EVENT HANDLERS\n\ncancelButton.onclick = () => toggleForm();\n\ncreateButton.onclick = () => toggleForm();\n\nsearchByTitle.onkeyup = () => {\n  showTodosByTitle(searchByTitle.value);\n};\n\nfilterByStatus.onchange = () => {\n  showTodosByStatus(filterByStatus.value);\n};\n\nfilterByPriority.onchange = () => {\n  showTodosByPriority(filterByPriority.value, store);\n};\n\ncreateTodo.onsubmit = e => {\n  e.preventDefault();\n  let title = document.getElementById(\"title\");\n  let description = document.getElementById(\"description\");\n  let priority = document.getElementById(\"todo-priority\");\n  let id = store.update ? store.activeId : store.id;\n  let todo = {\n    id: id,\n    title: title.value,\n    description: description.value,\n    priority: priority.value\n  };\n  if (store.update) {\n    updateTodo(todo);\n  } else {\n    addTodo(todo);\n  }\n  toggleForm();\n  cleanForm();\n  setLocalStorage(store);\n};\n"]}